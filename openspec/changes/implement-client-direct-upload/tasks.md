## 1. 實現客戶端直接上傳工具函數
- [ ] 1.1 創建 `src/lib/supabase-direct-upload.ts` 工具函數
- [ ] 1.2 實現普通檔案直接上傳功能
- [ ] 1.3 實現 Resumable Upload 功能（>6MB 檔案）
- [ ] 1.4 添加上傳進度回調支援
- [ ] 1.5 實現錯誤處理和重試機制

## 2. 更新上傳進度庫
- [ ] 2.1 修改 `src/lib/upload-with-progress.ts` 支援直接上傳
- [ ] 2.2 添加 Supabase 直接上傳的進度追蹤
- [ ] 2.3 實現 Resumable Upload 的進度顯示
- [ ] 2.4 保持現有的 API 介面以最小化變更

## 3. 修改後端 API
- [ ] 3.1 更新 `src/app/api/photo/upload/route.ts` 為只處理元數據
- [ ] 3.2 移除檔案大小限制檢查
- [ ] 3.3 添加檔案 URL 驗證
- [ ] 3.4 保持現有的錯誤響應格式

## 4. 更新前端組件
- [ ] 4.1 修改 `src/components/MediaUpload.tsx` 使用新的上傳方式
- [ ] 4.2 更新 `src/app/photo-upload/page.tsx` 的上傳邏輯
- [ ] 4.3 移除前端檔案大小限制提示
- [ ] 4.4 添加大檔案上傳的用戶提示

## 5. 測試和驗證
- [ ] 5.1 測試小檔案（<6MB）直接上傳
- [ ] 5.2 測試大檔案（>6MB）Resumable Upload
- [ ] 5.3 測試網路中斷恢復場景
- [ ] 5.4 驗證上傳進度顯示正確性
- [ ] 5.5 測試錯誤處理和用戶提示

## 6. 文檔更新
- [ ] 6.1 更新上傳功能說明文檔
- [ ] 6.2 添加大檔案上傳使用指南
- [ ] 6.3 更新開發者文檔